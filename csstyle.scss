// components
@mixin component($name){
  .#{$name}{
    @content
  }
}


// parts are the pieces that make up the structure of a component
@mixin part($name){
    // check to see 
    $index: str-index(#{&}, ".\\--");
    $index: 0 !default;
    $index: $index - 1;
    $component: str-slice(#{&}, 0, $index);
    
    // part is nested in an option
    @if $index > 0 {
      & #{$component}__#{$name}{
        @content;
      }      
    }
    @else {
      &__#{$name}{
        @content
      }
    }
}

// component options
@mixin option($name){
  &.\--#{$name}{
    @content;
  }
}

// allow parts to respond to options on parents
@mixin whenComponentOption($option){
  $index: str-index(#{&}, "__") - 1;
  $component: str-slice(#{&}, 0, $index);

  #{$component}.\--#{$option} & {
    @content;
  }
}

// overrides components, options, and modifiers
@mixin tweak($name){
  #csstyle .\+#{$name}{
    @content;
  }
}


// overrides: components, parts, options, and tweaks
@mixin location($name){
  #csstyle .\@#{$name}{
    @content;
  }
}